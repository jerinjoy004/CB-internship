<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: 'Inter', sans-serif; color: #333; }
    h1, h2 { color: #5ec576; }
    .summary { margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
    th, td { border: 1px solid #ccc; padding: 6px 10px; text-align: left; }
    img { max-width: 100%; margin-bottom: 20px; }
  </style>
</head>
<body>
  <h1>Financial Report</h1>
  <p><strong>User:</strong> {{ username }}<br>
     <strong>Generated:</strong> {{ current_date }}</p>

  <div class="summary">
    <p><strong>Filtered Credit:</strong> ₹{{ total_credit }}</p>
    <p><strong>Filtered Debit:</strong> ₹{{ total_debit }}</p>
    <p><strong>Filtered Balance:</strong> ₹{{ total_balance }}</p>
  </div>

  <h2>Spending vs Saving</h2>
  <img src="{{ typeChart_img }}" alt="Type Chart">

  <h2>Spend by Category</h2>
  <img src="{{ categoryChart_img }}" alt="Category Chart">

  <h2>Income and Expenses Over Time</h2>
  <img src="{{ monthlyChart_img }}" alt="Monthly Chart">

  <h2>Transactions</h2>
  <table>
    <thead>
      <tr><th>Date</th><th>Title</th><th>Category</th><th>Type</th><th>Amount</th></tr>
    </thead>
    <tbody>
      {% for tx in transactions %}
      <tr>
        <td>{{ tx.date }}</td>
        <td>{{ tx.title }}</td>
        <td>{{ tx.category }}</td>
        <td>{{ tx.type }}</td>
        <td>₹{{ tx.amount }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
